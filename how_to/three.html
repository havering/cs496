<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"> 
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>
		Ionic How-To Guide
	</title>

	<link rel="stylesheet" type="text/css" href="style.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

</head>
<body>
<nav class="navbar navbar-default navbar-fixed-top">
  <div class="container">
   <div class="navbar-brand">Ionic How-To</div>
    <ul class="nav navbar-nav">
    <li class="active"><a href="two.html">Previous</a></li>
    </ul>
    <ul class="nav navbar-nav pull-right">
    <li class="active"><a href="four.html">Next</a></li>
    <li class="dropdown">
  		<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Menu <span class="caret"></span></a>
  		<ul class="dropdown-menu pull-right">
  		  <li><a href="index.html">Introduction & Getting Started</a></li>
		  <li><a href="two.html">Working with the Views</a></li>
   		  <li><a href="three.html">Changing Routes</a></li>
   		  <li><a href="four.html">Updating the Controller</a></li>
   		  <li><a href="five.html">Adding Geolocation</a></li>
   		  <li><a href="six.html">Creating a Factory for API calls</a></li>
   		  <li><a href="seven.html">Using OpenWeatherMap</a></li>
   		  <li><a href="eight.html">Running in the Emulator</a></li>
 	 </ul>
 	 </li></ul>
	</div>
  </div>
</nav>
<div class="container">
	<h3>Changing Routes</h3>
	<p>In this app, your routes will be found in the <code>www/js/app.js</code> file. Routes tell your application which html file to load when a given URL is requested, either manually when manipulating the URL, or by navigating within the app itself. The playlists example has several routes; we will only need a few, so we are going to be changing some of the existing routes and removing some that are unnecessary. </p>
	<p>Lines 1 through 23 of the pre-generated Ionic code can remain as they are. On line 25, the routes are helped by the passed in <code>$urlRouterProvider</code>. We're going to be leaving the first <code>.state</code> as it is. Let's spend a little time breaking down what each part of the state is doing. </p>
	<p><code>.state('app', {</code></p>
	<p>This defines a state called 'app'. This is the top level of the app routing - all other routes will be appended to 'app'. 
	<p><code>    url: '/app',</code></p>
	<p>This is the URL that this state governs. When the app url + <code>/app</code> is accessed, Ionic will render the html file defined in the next few lines, and allow the view to have access to the controller also listed below.
	<p><code>    abstract: true,</code></p>
	<p>This line allows for children of this route to inherit from it. It also tells Ionic that this route won't ever be loaded directly. </p>
	<p><code>    templateUrl: 'templates/menu.html',</code></p>
	<p>This tells Ionic what view to load when this route is accessed. Because this is an abstract state, it is appropriate to pass the menu file to it, as every page should inherit access to the menu. </p>
	<p><code>    controller: 'AppCtrl'</code></p>
	<p>The final line of this state tells the route which controller should govern the business logic of the view, and allows the view named (in this case, menu.html) to have access to the controller called <code>AppCtrl</code>.</p>
	<p>The rest of the child app states should be deleted or modified until your <code>app.js</code> file looks as such:</p>
	<center>
	<p><img src="ss-four.png"></p>
	</center>
	<p>As the comment on line 60 notes, you need to provide a fallback route. This will give the app a default location to go to if the user tries to access an invalid route.</p>
	<p>We're done editing the routes, so now it's time to clean up our controller.</p>
</div>
</body>
</html>